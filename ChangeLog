2006-06-21  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager:
	  + VERSION = 0.7.4
	* backup-manager.conf.tpl:
	  + New variables, BM_UPLOAD_SSH_PURGE / BM_UPLOAD_SSH_PURGE
	  + BM_TARBALL_OVER_SSH set to false by default.
	* doc/user-guide.sgml, doc/user-guide.txt:
	  + Bits about SSH purging.
	* lib/backup-methods.sh:

2006-06-21  Alexis Sukrieh  <sukria@backup-manager.org>

	* NEWS:
	  + Notes about last bug closed, #83).
	* backup-manager-upload:
	  + Fixed the 'Net::Amazon::S3' error message (closes: #93).

2006-06-21  Alexis Sukrieh  <sukria@backup-manager.org>

	* VERSION: 0.7.4
	* lib/backup-methods.sh:
	  + (__exec_meta_command) Handle nicely errors with $? instead of counting words sent to stderr
	  by the command (Closes: #83).
	  + Same fix for the remote_command stuff.
	* t/t11-pipe-method.sh:
	  + Template of a command that fails.

2006-06-20  Alexis Sukrieh  <sukria@backup-manager.org>

	* NEWS:
	  + More details about bugs fixed in 0.7.4.
	* backup-manager-upload:
	  + Support of SSH purging (in the same manner as for FTP and S3).
	* lib/upload-methods.sh:
	  + Gently propagate the BM_UPLOAD_SSH_PURGE thing.

2006-06-20  Alexis Sukrieh  <sukria@backup-manager.org>

	* NEWS:
	  + Bits from the devel corner.
	* lib/backup-methods.sh:
	  + Support archive targets with spaces in their name and archive to
	    expand as well.

2006-04-22  Alexis Sukrieh  <sukria@backup-manager.org>

	[ Based on the work done by Jan Metzger ]
	
	* Support of the new upload method "ssh-gpg".
	  + backup-manager-upload
	    - Supports a new value for --method (ssh-gpg).
		- New option --gpg-recipient
		- Uses explicit error codes when needed.
		- Stops using temp logfile, dump errors to stderr.
	    - Updated the documentation (POD / man page).
	  + backup-manager-conf.tpl
	    - new upload method possible "ssh-gpg".
	    - BM_UPLOAD_SSHGPG_RECIPENT added.
	  + doc/user-guide.sgml / doc/user-guide.txt
	    - Bits about the new upload method.
	  + lib/actions.sh 
	    - new switch for calling the ssh-gpg upload if needed.
	  + lib/upload-methods.sh
	    - bm_upload_ssh_gpg() added, wrapper to backup-manager-upload.

2006-04-03  Alexis Sukrieh  <sukria@backup-manager.org>

	* lib/files.sh:
	  + applied patch from Mario Domgörgen for fixing the
	  get_date_from_archive() function. (closes: #68)
	* t/run-tests.sh:
	  + Now redirect errors in /dev/null.
	* t/t14-purging-system.sh:
	  + switch the verbosity off.

2006-04-02  Alexis Sukrieh,,,  <sukria@backup-manager.org>

	* AUTHORS:
	  + added Brad Dixon about the S3 module.
	* VERSION:
	  + 0.7.3
	* Updated the user guide about the new purging system + minor changes.
	* lib/backup-methods.sh:
	  + Some messages updated.
	* lib/burning-methods.sh:
	  + Some messages updated.
	* lib/files.sh:
	  + Rewrite of the purging system, better handling, support the new policy
	  about master backups.
	* po/fr.po:
	  + Translation updates.
	* t/run-tests.sh:
	  + Better layout.

2006-03-29  Alexis Sukrieh  <sukria@backup-manager.org>

	* Closes bug #66 - Support of Amazon S3 uploads.
	  + backup-manager-upload
	  + backup-manager.conf.tpl
	  + doc/user-guide.sgml
	  + lib/actions.sh
	  + lib/upload-methods.sh
	* lib/backup-methods.sh:
	  + Support of the new variable BM_TARBALL_EXTRA_OPTIONS for appending
	  extra options to the command line.

2006-03-28  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager.conf.tpl:
	  + New configuration variable: BM_TARBALL_OVER_SSH 
	* doc/user-guide.sgml:
	  + Some bits about the new "tarball over ssh" thing.
	* doc/user-guide.txt:
	  + Up to date version.
	* lib/backup-methods.sh:
	  + It's now able to build archive locally (as before) or remotely
	  (through SSH); closes: #58.
	* lib/files.sh:
	  + Some TODO tags.

2006-03-24  Alexis Sukrieh  <sukria@backup-manager.org>

	* lib/actions.sh:
	  + Some more errors when failing to chown/chmod.
	* lib/backup-methods.sh:
	  + Some more errors when failing to chown/chmod.
	  + Name differently master backups, using a ".master" suffix.
	* t/confs/base.conf:
	  + added BM_REPOSITORY_USER and BM_REPOSITORY_GROUP
	* Changed all the tests to fit the new backup naming layout (.master):
	  +	t/t01-tarball.sh
	  + t/t04-tarball-blacklist.sh
	  + t/t06-bug14.sh
	  + t/t07-dar.sh
	  + t/t08-regexp.sh
	  + t/t09-tarball-incremental.sh
	  + t/t10-tarball-dar-blacklist.sh
	  + t/t12-tarball-incremental-dar.sh

2006-03-16  Alexis Sukrieh  <sukria@backup-manager.org>

	* lib/upload-methods.sh:
	* t/t02-rsync.sh:

2006-03-15  Alexis Sukrieh  <sukria@backup-manager.org>

	* lib/upload-methods.sh:
	  + applied patch from Nicolas Rennert for closing #49.
	  + make sure we don't have a trailing / at the end of the RSYNC command.

2006-03-14  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager:
	  + Added path for /usr/bin/7z
	* lib/backup-methods.sh:
	  + Some of the basic stuff for the 7z support.
	  + Warning, the blacklist stuff is not working!
	* lib/logger.sh:
	  + umask redirected to /dev/null for getting rid of the crappy 
	    output.
	* t/t09-tarball-incremental.sh:
	  + Never make master backups in that test.
	* t/testlib.sh:
	  + Added path for /usr/bin/7z

2006-03-12  Alexis Sukrieh  <sukria@backup-manager.org>

	* lib/files.sh:
	  + Applyied patch 21 for closing #50. 
	    (Stephen Kitt)

2006-03-12  Alexis Sukrieh  <sukria@backup-manager.org>

	* Makefile:
	  + Stop rebuilding the backup-manager-upload.8 manpage ever and ever. If
	  it exists, don't rebuild it.
	* VERSION:
	  + Ready for the release 0.7.2
	* backup-manager:
	  + VERSION = 0.7.2

2006-03-11  Alexis Sukrieh  <sukria@backup-manager.org>

	* lib/actions.sh:
	  + make_archives() now chown/chmod the md5 file to
	  $BM_REPOSITORY_USER/$BM_REPOSITORY_USER.
	* lib/backup-methods.sh:
	  + minor fixes/typo
	* lib/files.sh:
	  + some formatting.

2006-03-10  Alexis Sukrieh  <sukria@backup-manager.org>

	* Setup an umask 0077 for creating files without world permissions.
	  (closes: #47)
	* Restore the original umask when exiting.

2006-03-10  Alexis Sukrieh	<sukria@backup-manager.org>

	* backup-manager:
	  + Disabled the -u flag, too much problems with the pipe method.
	* lib/backup-methods.sh:
	  + Better layout of the __exec_meta_command.
	  + Doesn't try to commit an archive if none.

2006-03-09  Alexis Sukrieh	<sukria@backup-manager.org>

	* backup-manager.conf.tpl:
	  + speak about the DVD-RW burning method (with formating).
	  + speak about the DVD method (without formating).
	* doc/common.ent:
	  + New version of backup-manager: 0.7.2
	* doc/user-guide.sgml:
	  + Updates about the burning system.
	  + Interactive mode
	  + DVD / DVD-RW methods
	  + --burn <DATE> new option
	* doc/version.ent:
	  + Revision 1.2
	* lib/burning-methods.sh:
	  + Split the burning method DVD into DVD and DVD-RW so we now have 
	    a burning method that doesn't blank the medium before writing data..

2006-03-09  Rached Ben Mustapha  <rached@benmur.net>

	* lib/upload-methods.sh:
	  + Added support for the ServerAliveInterval ssh option. It is
	  unconditional for now, but we should check if all supported version
	  of ssh support it. This helps when the "building file list" step of
	  rsync takes a loooong time (high I/O load for example), and the
	  connection is closed because of non-activity. It is currently
	  hardcoded to 60s, which seems like a good compromise.

2006-02-08  Alexis Sukrieh  <sukria@backup-manager.org>

	* NEWS:
	  + Release notes for 0.7.1
	* backup-manager.conf.tpl:
	  + default blacklist items: /dev /proc /sys

2006-01-19  Alexis Sukrieh  <sukria@backup-manager.org>

	* lib/backup-methods.sh:
	  + major rewrite of the code, much more clean and scalable.
	  + dar support
	* t/testlib.sh:
	  + added missing stuff here, for the tests.

2006-01-17  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager:
	  + added the path to dvd+rw-format
	* lib/actions.sh:
	  + now blank the DVD media explicitly before burning data.

2006-01-17  Alexis Sukrieh  <sukria@backup-manager.org>

	* lib/files.sh:
	  + Applied patch from Michel Grentzinger <mic.grentz@online.fr> for
	  enhancing the way space occupation is computed (bug #22).

2006-01-17  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager:
	  + added path to /usr/bin/dar
	* lib/backup-methods.sh:
	  + major rewrite/clean of backup_method_tarball()
	  + support for BM_ARCHIVE_FILETYPE "dar"
	* lib/dialog.sh:
	  + check that dar is present.
	* backup-manager.conf.tpl
	  + New configuration variable "BM_TARBALL_SLICESIZE".

2006-01-05  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager.conf.tpl:
	  + added BM_MYSQL_SAFEDUMPS for providing a way to perform full clena
	  backup with the "--opt" switch (closes bug #15)
	  + Changed the behaviour of BM_MYSQL_DATABASES so we can put here a
	  wildcard "__ALL__" that means backing up every databases at once.
	* lib/backup-methods.sh:
	  + Changes in backup_mysql().

2005-12-31  Alexis Sukrieh  <sukria@backup-manager.org>

	* Bug #14 closed. Backup methods are handled better so we can
	  safely use several methods in the same configruation file.
	  + lib/actions.sh: pass $method to each method.
	  + lib/backup-methods.sh: handle $method rather than $BM_ARCHIVE_METHOD.
	  + t/t06-bug14.sh: Regression-proof test for this bug.

2005-12-19  Alexis Sukrieh	<sukria@backup-manager.org>

	* INSTALL:
	  + bits about dependencies
	* NEWS:
	  + The 0.6 Changelog
	* doc/DISCLAIMER:
	  + Removed, not needed anymore.
	* doc/README:
	  + Bits about the available formats.
	* doc/user-guide.txt:
	  + Added the text version in the repository, so users
	    can have a light version of the guide with the release.
	* doc/version.ent:
	  + Revision: 1.0

2005-12-19  Alexis Sukrieh	<sukria@backup-manager.org>

	* New configuration key BM_UPLOAD_SSH_PORT
	  + backup-manager.conf.tpl
	  + doc/user-guide.sgml
	* Added copyright headers
	  + lib/backup-methods.sh
	  + lib/dialog.sh
	  + lib/logger.sh
	  + lib/files.sh
	  + lib/gettext-dummy.sh:
	  + lib/gettext-real.sh:
	  + lib/gettext.sh:
	  + lib/md5sum.sh:
	* lib/sanitize.sh:
	  + added copyright header
	  + check for BM_BURNING
	* po/Makefile:
	  + Minor changes
	* po/backup-manager.pot:
	  + Added this pot file in the repository so people
	    without xgettext can install BM.
	* po/es.po:
	  + New version updated.

2005-12-16  Alexis Sukrieh  <sukria@backup-manager.org>

	* AUTHORS:
	  + Better, less confusing.
	* doc/user-guide.sgml:
	  + Sven Joachim fixes (typos...)

2005-12-16  Alexis Sukrieh  <sukria@backup-manager.org>

	* po/Makefile:
	  + better clean target.
	* po/vi.po:
	  + Final version of the Vietnamese translations.

2005-12-15  Alexis Sukrieh  <sukria@backup-manager.org>

	* AUTHORS:
	  + Added Clytie Siddall in the translators list.
	* po/it.po:
	  + Final version of the italian translation, thanks to Matteo Frarre
	  Barutti.

2005-12-13  Alexis Sukrieh  <sukria@backup-manager.org>

	* po/Makefile:
	  + use the .SUFFIXES method, better for handling correctly .mo files. 
	* po/backup-manager.pot:
	  + deleted, this file is generated on the fly.
	* po/es.po:
	  + Minor correction, waiting for the reviewed version.

2005-12-13  Alexis Sukrieh  <sukria@backup-manager.org>

	* AUTHORS:
	  + Cleaner
	  + Added translators
	* THANKS:
	  + Some typos, changes.
	* VERSION:
	  + 0.6 !!! Yeah :)
	* backup-manager:
	  + version= 0.6 (yeah)

2005-12-13  Alexis Sukrieh  <sukria@backup-manager.org>

	* Makefile:
	  + add a target `docs' for building the userguide.
	* doc/Makefile:
	  + install the user guide in /usr/share/backup-manager/doc
	* po/it.po:
	  + First full version of the translated messages in Italian (Matteo Frare
	  Barutti <xenon@ngi.it>).

2005-12-13  Alexis Sukrieh  <sukria@backup-manager.org>

	* po/es.po:
	  + New translation from Niv Altivanik (not finished).
	* t/t05-hooks.sh:
	  + clean a bit the test script, remove the verbose stuff.

2005-12-13  Alexis Sukrieh  <sukria@backup-manager.org>

	* No more yes/no -> true/false
	* French translatio ok.

2005-12-12  Alexis Sukrieh  <sukria@backup-manager.org>

	* Makefile:
	  + install po files
	* backup-manager:
	  + minor bug fix (call to bad function)
	* Removed most of "info -n" calls
	  + lib/actions.sh:
	  + lib/backup-methods.sh:
	  + lib/files.sh:
	  + lib/logger.sh:
	* po/Makefile:
	  + Much cleaner
	* po/fr.po
	  + New french version, complete.

2005-12-09  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager:
	  + cleaned a bit the code.
	* backup-manager.conf.tpl:
	  + removed useless BM_BURNING conf key (BM_BURNING_METHOD is enough).
	* Updated the tests, new test for the hooks.

2005-12-06  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager-upload:
	  + chomp() the result of the shell command, better.
	* Renamed tests with understandable names.
	* t/t04-tarball-blacklist.sh:
	  + New test for reproducing bug #4, cannot reproduce...
	* t/testlib.sh:
	  + better paths for the lock and pid files.

2005-12-06  Alexis Sukrieh <sukria@backup-manager.org>

	* doc/user-guide.sgml:
	 + Chapter 3 is finished (well, remains a lot of typos but the main
	 structure is there).

2005-12-06  Alexis Sukrieh  <sukria@backup-manager.org>

	* Minor changes to the tests.
	  + t/confs/upload-rsync.conf
	  + t/t01.sh

2005-12-05  Jimmy Gredler  <jimmy@backup-manager.org>

	* t/confs/tarball-incremental.conf:
	  + Changed the tarball directory to $PWD
	* t/confs/tarball.conf:
	  + Changed the tarball directory to $PWD
	* t/confs/upload-global.conf:
	  + Create an upload directory if it doesn't exist
	* t/confs/upload-rsync.conf:
	  + Changed the rsync directory to $PWD
	  + Use the current user as  BM_UPLOAD_SSH_USER and the ssh identity
		  bm-test

2005-12-05  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager.conf.tpl:
	  + added the "none" methods in backup and upload sections.
	* lib/actions.sh:
	  + it's possible to choose none of the backup methods.
	  + it's possible to choose none of the upload methods.
	* t/t01.sh:
	  + This test now uses the tarball method for building and archive of
	  /etc, if it manages to build the archives, the test succeeds.
	* t/t02.sh:
	  + Upload some stuff with rsync (to be updated)...
	* t/t03.sh:
	  + Test that "none" is possible in the methods keys.

2005-12-05  Alexis Sukrieh  <sukria@backup-manager.org>

	* lib/upload-methods.sh:
	  + rsync stuff works properly with root and with BM_UPLOAD_SSH_USER.

2005-12-05  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager.conf.tpl:
	  + replaced BM_RSYNC by BM_UPLOAD_RSYNC
	* lib/actions.sh:
	  + Renamed -snapshot by _snaphot
	* lib/files.sh:
	  + Some more checks.
	* lib/sanitize.sh:
	  + Better sanitizers for the RSYNC stuff.
	* lib/upload-methods.sh:
	  + bm_upload_rsync_common() now managed rsync transfers with
	  BM_UPLOAD_SSH_USER and call SSH in BatchMode.
	  + Logs errors in a temp logfile.
	* t/t02.sh:
	  + test script for RSYNC stuff.

2005-12-05  Alexis Sukrieh  <sukria@backup-manager.org>

	* added the t/ directory for handling tests. 
	+ t/confs/base.conf
	+ t/confs/burning.conf
	+ t/confs/mysql.conf
	+ t/confs/pipe.conf
	+ t/confs/svn.conf
	+ t/confs/tarball-incremental.conf
	+ t/confs/tarball.conf
	+ t/confs/upload-ftp.conf
	+ t/confs/upload-global.conf
	+ t/confs/upload-rsync.conf
	+ t/confs/upload-ssh.conf
	+ t/run-tests.sh
	+ t/t01.sh
	+ t/testlib.sh

2005-12-05  Alexis Sukrieh  <sukria@backup-manager.org>

	* lib/sanitize.sh:
	  + typo, hanlde -> handle.

2005-12-05  Alexis Sukrieh  <sukria@backup-manager.org>

	* BackupManager/Config.pm:
	  + fixed some typos.
	* backup-manager:
	  + removed some comments, cleaning.
	* backup-manager-upload:
	  + deletes expired files on remote FTP hosts (closes: #1).
	  + error when the repository is not readable (closes: #2).
	  + using other ports than 22 is possible for SSH transfers, new
	  configuration key "BM_UPLOAD_SSH_PORT" (closes: #5).
	* backup-manager.conf.tpl:
	  + New confkeys for the upload methods, BM_UPLOAD_SSH_*, BM_UPLOAD_FTP_*
	* lib/actions.sh:
	  + Code cleaning, upload_files() now uses the new stuff in
	  lib/upload-methods.sh
	* lib/files.sh:
	  + unmount_tmp_dir() now unmount $mount_point only if it's already
	  mounted (closes: #6).
	* lib/sanitize.sh:
	  + New sanitizers for the new configuration keys.
	* lib/upload-methods.sh:
	  + New library for handling every upload methods, implemented here ssh
	  and ftp methods.

2005-11-23  Alexis Sukrieh  <sukria@backup-manager.org>

	* backup-manager:
	  + Added the copyright/licence notice.
	* doc/user-guide.sgml:
	  + Better (really better) structure, that begins to be something...
	* Makefile
	  + The clean target now cleans doc/

2005-11-10  Alexis Sukrieh  <sukria@sukria.net>

	* backup-manager.conf.tpl:
	  + details about the new configuration keys for the incremental
	  backup method.

2005-11-10  Alexis Sukrieh  <sukria@sukria.net>

	* lib/backup-methods.sh:
	  + bug fixed, always give the --listed-incremental flag when performing
	  an incremental backup (even when doing a master tarball).

2005-11-10  Alexis Sukrieh <sukria@sukria.net>

	* lib/actions.sh:
	  + support the tarball-incremental method.
	* lib/backup-methods.sh:
	  + patched the "tarball" method so it can handle incremental backups.
	* lib/sanitize.sh:
	  + some sanitize checks for the new configuration keys related to
	  incremental backups.

